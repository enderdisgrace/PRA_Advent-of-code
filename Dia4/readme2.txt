El código guarda input.txt como una matriz llamada content. Después el código registra esta matriz carácter por carácter buscando una A, si el carácter es una A, el código mira a ver si se encuentran una de las 4 posibles posiciones validas:

M M  S S  S M  M S
 A    A    A    A
S S  M M  S M  M S

si esta en una de estas 4 posiciones se suma 1 a la variable contador.